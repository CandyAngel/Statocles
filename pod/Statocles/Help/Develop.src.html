<!DOCTYPE html>
<html>
    <head>
        <link href="/Statocles/theme/css/normalize.css" rel="stylesheet">
        <link href="/Statocles/theme/css/skeleton.css" rel="stylesheet">
        <link href="/Statocles/theme/css/statocles-default.css" rel="stylesheet">
        <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
        <title>Statocles</title>
        <link href="http://fonts.googleapis.com/css?family=Forum" rel="stylesheet" type="text/css">
<style>
    h1, h2, h3, h4, h5, h6 {
        font-family: 'Forum', sans-serif;
        font-weight: bold;
    }

    #index-banner {
        font-family: 'Forum', sans-serif;
        height: 300px;
        position: relative;
        margin-bottom: 1em;
        border-bottom: 1px solid #777
    }
    #index-banner:before, #index-banner:after {
        width: 60px;
        height: 300px;
        content: url(/Statocles/theme/images/column.png);
    }
    #index-banner:before {
        position: absolute;
        top: 0;
        left: 0;
    }
    #index-banner:after {
        position: absolute;
        top: 0;
        right: 0;
    }

    #index-banner h1 {
        padding-top: 1em;
        text-transform: uppercase;
        font-size: 72px;
        text-align: center;
    }
    #index-banner h1 small {
        display: block;
        font-size: 24px;
    }

    #index-banner .latest-release {
        text-align: center;
    }

</style>

    </head>
    <body>
        <header>
            <nav class="navbar">
                <div class="container">
                    <a class="brand" href="/">Statocles</a>
                    <ul>
                        <li>
                            <a href="/Statocles/blog">Blog</a>
                        </li>
                        <li>
                            <a href="/Statocles/pod">Docs</a>
                        </li>
                        <li>
                            <a href="/Statocles/gallery">Gallery</a>
                        </li>
                        <li>
                            <a href="http://github.com/preaction/Statocles">Code</a>
                        </li>
                        <li>
                            <a href="http://github.com/preaction/Statocles/issues">Bugs</a>
                        </li>
                        <li>
                            <a href="http://metacpan.org/pod/Statocles">CPAN</a>
                        </li>
                        <li>
                            <a href="https://chat.mibbit.com/?channel=%23statocles&amp;server=irc.perl.org">IRC</a>
                        </li>
                    </ul>
                </div>
            </nav>
            <a href="https://github.com/preaction/Statocles"><img alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" style="position: absolute; top: 0; right: 0; z-index: 1000; border: 0;"></a>

        </header>
        <div class="main container">
            <a href="/Statocles/pod/Statocles/Help/Develop.html">Back to documentation</a>
<pre># PODNAME: Statocles::Help::Develop
# ABSTRACT: How Statocles works and how to write Statocles modules

=head1 DESCRIPTION

This is a high-level overview of how Statocles works: Which modules are responsible
for which tasks.

=head1 OVERVIEW

Statocles has a small workflow:

=over 4

=item *

User creates L&lt;Documents|Statocles::Document&gt;.

=item *

L&lt;Stores|Statocles::Store&gt; read and write documents.

=item *

L&lt;Applications|Statocles::App&gt; use Stores to read documents and create
L&lt;Pages|Statocles::Page&gt;.

=item *

L&lt;Sites|Statocles::Site&gt; collect a set of Applications.

=item *

Sites have a L&lt;Themes|Statocles::Theme&gt; that builds
L&lt;Templates|Statocles::Template&gt; that are given to Pages.

=item *

Finally, the Site writes the Page to a L&lt;Deploy|Statocles::Deploy&gt;.

=back

=head1 DOCUMENTS

A L&lt;document|Statocles::Document&gt; is the main content of the site. The user does
all the work with documents: adding, editing, and removing documents.

The default store reads documents in a Markdown format with a YAML header,
easily editable with any text editor. A sample document looks like:

    ---
    title: This is a title
    author: preaction
    ---
    # This is the markdown content

    This is a paragraph

The document format is described in the L&lt;Statocles::Store::File&gt; documentation
under L&lt;Frontmatter Document Format|Statocles::Store::File/&quot;Frontmatter
Document Format&quot;&gt;.

=head1 STORES

A L&lt;Statocles::Store&gt; reads and writes documents and pages. The default store
reads documents in YAML and writes pages to a file, but stores could read
documents as JSON, or from a Mongo database, and write pages to a database, or
whereever you want!

=over 4

=item L&lt;Statocles::Store::File&gt;

Read documents from the filesystem.

=back

=head1 APPLICATIONS

An application is the module that will take the documents the user provides and
turn them into the pages that can be written out to the filesystem.

=over 4

=item L&lt;Statocles::App::Plain&gt;

Plain markdown documents are turned into pages with no special arrangement.

=item L&lt;Statocles::App::Blog&gt;

A simple blogging application.

=item L&lt;Statocles::App::Static&gt;

Static files, like images and other site collateral, are copied into the site
with no processing whatsoever.

=back

=head1 PAGES

A L&lt;Statocles::Page&gt; is collected information ready to be rendered into HTML
(or whatever). Statocles Applications generate pages from the documents that
the user provides. One document may generate multiple pages, and pages may have
multiple formats like HTML or RSS.

=over 4

=item L&lt;Statocles::Page::Document&gt;

This page renders a single document. This is used for the main page of a blog
post, for example.

=item L&lt;Statocles::Page::List&gt;

This page renders a list of other pages (not documents). This is used for index
pages and feed pages.

=item L&lt;Statocles::Page::Plain&gt;

This page adds a layout, but does not require a document. Good if you&#39;ve already
got HTML.

=item L&lt;Statocles::Page::File&gt;

This page is used for non-rendered static files like images. No processing is
done.

=back

=head1 SITES

A L&lt;Statocles::Site&gt; manages a bunch of applications, writing and deploying the
resulting pages.

The site controls the entire workflow, reading pages from the applications and
writing them to the appropriate deploy.

=head1 THEMES

A L&lt;Statocles::Theme&gt; creates L&lt;Statocles::Template&gt; objects using L&lt;Mojo::Template&gt;.

If you want to use Template Toolkit or Text::Xslate, you would create a new
Theme class that provides a different Template object.

=head1 DEPLOYS

Deploying the site may involve a simple file copy, but it could also involve a
Git repository, an FTP site, or a database.

=over 4

=item L&lt;Statocles::Deploy::File&gt;

Copy the site&#39;s files to a given local path.

=item L&lt;Statocles::Deploy::Git&gt;

Copy the files to a git repository and push them out. This is how a Github Pages
site is deployed.

=back

=head1 PLUGINS

Plugins are used to respond to events in the Statocles workflow. For example,
when a site is built, an event is fired containing all the built pages. Then,
the L&lt;Statocles::Plugin::LinkCheck&gt; plugin can search all the pages for broken
links.

Any class can be a plugin, it just needs a method. The event listener is wired
up using the configuration file:

    # site.yml
    site:
        class: Statocles::Site
        on:
            - build:
                $class: Statocles::Plugin::LinkCheck
                $sub: check_pages

When the C&lt;build&gt; event fires, the LinkCheck method C&lt;check_pages&gt; will be called,
with the event object given as the argument.

=head1 ROLES

If you want to add some custom behavior to any of the site&#39;s objects, the
configuration file (L&lt;made with Beam::Wire|Beam::Wire&gt;) allows you to compose
one or more L&lt;roles|Moo::Role&gt; into the objects in your site.

    # lib/My/Readme.pm
    package My::Readme;

    use Moo::Role;
    around build =&gt; sub {
        my ( $orig, $self, @args ) = @_;

        # Call the original build method
        my @pages = $orig-&gt;$self( @args );

        # Add a readme file
        push @pages, Statocles::Page::Plain-&gt;new(
            path =&gt; &#39;/README&#39;,
            content =&gt; &#39;Please read me!&#39;,
        );

        return @pages;
    };

    # site.yml
    site:
        class: Statocles::Site
        with: &#39;My::Readme&#39;

Using roles can help change behaviors that are otherwise not available to
L&lt;plugins|/PLUGINS&gt;.
</pre>

        </div>
        <footer>
            <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61295159-3', 'auto');
  ga('send', 'pageview');

</script>

            <div class="container tagline">
                <a href="http://preaction.github.io/Statocles">Made with Statocles</a><br>
                <a href="http://www.perl.org">Powered by Perl</a>
            </div>
        </footer>
    </body>
</html>
